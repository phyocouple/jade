"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8658],{8658:(U,g,l)=>{l.r(g),l.d(g,{CartPageModule:()=>A});var s=l(6814),p=l(95),i=l(3134),m=l(3044),d=l(5861),_=l(1254),t=l(6689),f=l(7704),h=l(3745);const v=function(e){return{"background-image":e}};function Z(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"ion-card",13)(1,"div",14),t._UZ(2,"ion-icon",15),t.TgZ(3,"ion-label",16),t._uU(4),t.qZA()(),t.TgZ(5,"div",17)(6,"ion-row")(7,"ion-col",18),t._UZ(8,"div",19),t.qZA(),t.TgZ(9,"ion-col",20)(10,"div",21)(11,"ion-label",22),t._uU(12),t.ALo(13,"slice"),t.qZA(),t.TgZ(14,"div",23),t.NdJ("click",function(){const c=t.CHM(o).index,u=t.oxw(2);return t.KtG(u.openVariations(c))}),t.TgZ(15,"ion-label",24),t._uU(16),t.qZA(),t._UZ(17,"ion-icon",25),t.qZA(),t.TgZ(18,"div",26),t._UZ(19,"ion-icon",27),t.TgZ(20,"ion-label",24),t._uU(21),t.qZA(),t._UZ(22,"ion-icon",28),t.qZA()()(),t.TgZ(23,"ion-col",29)(24,"ion-label",30)(25,"span",31),t._uU(26),t.qZA()(),t._UZ(27,"ion-icon",32),t.qZA()()()()}if(2&e){const o=a.$implicit;t.xp6(4),t.Oqu(o.product_name),t.xp6(4),t.Q6J("ngStyle",t.VKq(11,v,"url("+o.image_url+")")),t.xp6(4),t.hij(" ",o.product_name.length>20?t.Dn7(13,7,o.product_name,0,20)+"..":o.product_name," "),t.xp6(4),t.hij("Variations : ",o.combination.join(", ")||"None",""),t.xp6(5),t.hij(" ",o.product_qty," "),t.xp6(5),t.AsE(" ",o.price_unit," ",o.currency," ")}}function C(e,a){if(1&e&&(t.TgZ(0,"div")(1,"div",11),t.YNc(2,Z,28,13,"ion-card",12),t.qZA()()),2&e){const o=t.oxw();t.xp6(2),t.Q6J("ngForOf",o.cartItems)}}function y(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"div",33),t._UZ(1,"img",34),t.TgZ(2,"ion-label",35),t._uU(3,"Your cart is empty"),t.qZA(),t.TgZ(4,"ion-button",36),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.startShopping())}),t._uU(5," Start Shopping "),t.qZA()()}}function T(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"ion-footer")(1,"ion-toolbar",37)(2,"ion-row")(3,"ion-col",38)(4,"div",39)(5,"ion-label",24),t._uU(6),t.qZA(),t.TgZ(7,"ion-label",30),t._uU(8),t.qZA()()(),t.TgZ(9,"ion-col",40)(10,"ion-button",41),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.onCheckout())}),t._uU(11," Buy Now "),t.qZA()()()()()}if(2&e){const o=t.oxw();t.xp6(6),t.hij("Total (",o.cart.values.website_sale_order.cart_quantity," Products) : "),t.xp6(2),t.AsE("",o.cart.values.amount," ",o.cart.values.currency,"")}}const P=[{path:"",component:(()=>{var e;class a{constructor(r,n,c){this.util=r,this.modalController=n,this.ecommerceService=c,this.cart=null,this.cartItems=[]}ngOnInit(){this.loadCart()}loadCart(){var r=this;return(0,d.Z)(function*(){try{const n=yield r.ecommerceService.getCart();r.cart=n,r.cart&&r.cart.values&&(r.cartItems=r.cart.values.order_lines)}catch(n){console.error("Error loading cart",n)}})()}doRefresh(r){var n=this;return(0,d.Z)(function*(){try{yield n.loadCart()}catch(c){console.error("Error refreshing cart",c)}finally{r.target.complete()}})()}getDiscountedPrice(r,n){var c=Number(r);return(c-c*(Number(n)/100)).toFixed(2)}openVariations(r){var n=this;return(0,d.Z)(function*(){yield(yield n.modalController.create({component:_.t,cssClass:"variations_modal",componentProps:{index:r}})).present()})()}onCheckout(){this.util.navigateToPage("checkout")}startShopping(){this.util.navigateToPage("home")}}return(e=a).\u0275fac=function(r){return new(r||e)(t.Y36(f.f),t.Y36(i.IN),t.Y36(h.B))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart"]],decls:14,vars:3,consts:[[1,"ion-no-border"],["mode","md","color","primary"],["slot","end"],["color","light"],["slot","icon-only","name","chatbox-ellipses-outline"],[1,"ion-padding"],["slot","fixed",3,"ionRefresh"],["pullingIcon","arrow-dropdown","pullingText","Pull to refresh","refreshingSpinner","circles","refreshingText","Refreshing..."],[4,"ngIf","ngIfElse"],["emptyCart",""],[4,"ngIf"],[1,"cart-screen"],["mode","ios","class","cart-item",4,"ngFor","ngForOf"],["mode","ios",1,"cart-item"],[1,"cart-header"],["name","storefront-outline","color","secondary"],[1,"brand"],[1,"cart-content"],["size","3"],[1,"cover-image",3,"ngStyle"],["size","6"],[1,"name-content"],[1,"title"],[1,"variations",3,"click"],[1,"lbl"],["name","chevron-down-outline","color","light"],[1,"quantity"],["name","remove-outline","color","medium"],["name","add-outline","color","medium"],["size","3",2,"position","relative"],[1,"price"],[1,"active"],["name","trash-bin-outline","color","danger",1,"delte-btn"],[1,"empty-cart"],["src","assets/empty_cart.svg","alt","Empty Cart",1,"empty-cart-image"],[1,"empty-cart-message"],["expand","block","fill","solid","color","primary",3,"click"],["color","tertiary"],["size","8"],[1,"cart-price-lbl"],["size","4"],["expand","block","fill","solid","color","primary","size","small",3,"click"]],template:function(r,n){if(1&r&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t._uU(3,"Cart"),t.qZA(),t.TgZ(4,"ion-buttons",2)(5,"ion-button",3),t._UZ(6,"ion-icon",4),t.qZA()()()(),t.TgZ(7,"ion-content",5)(8,"ion-refresher",6),t.NdJ("ionRefresh",function(u){return n.doRefresh(u)}),t._UZ(9,"ion-refresher-content",7),t.qZA(),t.YNc(10,C,3,1,"div",8),t.YNc(11,y,6,0,"ng-template",null,9,t.W1O),t.qZA(),t.YNc(13,T,12,3,"ion-footer",10)),2&r){const c=t.MAs(12);t.xp6(10),t.Q6J("ngIf",n.cart&&n.cart.values.order_lines.length>0)("ngIfElse",c),t.xp6(3),t.Q6J("ngIf",n.cart&&n.cart.values.order_lines.length>0)}},dependencies:[s.sg,s.O5,s.PC,i.YG,i.Sm,i.PM,i.wI,i.W2,i.fr,i.Gu,i.gu,i.Q$,i.nJ,i.Wo,i.Nd,i.wd,i.sr,s.OU],styles:['@charset "UTF-8";']}),a})()}];let x=(()=>{var e;class a{}return(e=a).\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(P),m.Bz]}),a})(),A=(()=>{var e;class a{}return(e=a).\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.ez,p.u5,i.Pc,x]}),a})()}}]);